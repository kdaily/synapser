<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Synapse R Client Overview • synapser</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">synapser</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/synapser.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/docker.html">Using synapser with Docker</a>
    </li>
    <li>
      <a href="../articles/fileview.html">File View</a>
    </li>
    <li>
      <a href="../articles/tables.html">Tables</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Synapse R Client Overview</h1>
                        <h4 class="author">Bruce Hoff</h4>
            
            <h4 class="date">2018-02-02</h4>
          </div>

    
    
<div class="contents">
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>The <code>synapser</code> package provides an interface to <a href="http://www.synapse.org">Synapse</a>, a collaborative workspace for reproducible data intensive research projects, providing support for:</p>
<ul>
<li>integrated presentation of data, code and text</li>
<li>fine grained access control</li>
<li>provenance tracking</li>
</ul>
<p>The <code>synapser</code> package lets you communicate with the Synapse platform to create collaborative data analysis projects and access data using the R programming language. Other Synapse clients exist for <a href="http://docs.synapse.org/python">Python</a>, <a href="https://github.com/Sage-Bionetworks/Synapse-Repository-Services/tree/develop/client/synapseJavaClient%3E">Java</a>, and <a href="https://www.synapse.org">the web browser</a>.</p>
<p>If you’re just getting started with Synapse, have a look at the <a href="http://docs.synapse.org/articles/getting_started.html">Getting Started guides for Synapse</a>.</p>
<p>Good example projects are:</p>
<ul>
<li><a href="https://www.synapse.org/#!Synapse:syn300013">TCGA Pan-cancer (syn300013)</a></li>
<li><a href="https://www.synapse.org/#!Synapse:syn1721874">Development of a Prognostic Model for Breast Cancer Survival in an Open Challenge Environment (syn1721874)</a></li>
<li><a href="https://www.synapse.org/#!Synapse:syn1899339">Demo projects (syn1899339)</a></li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p><code>synapser</code> is available as a ready-built package for Microsoft Windows and Mac OSX. For Linux systems, it is available to install from source. It can be installed or upgraded using the standard <code>install.packages()</code> command, adding the <a href="https://sage-bionetworks.github.io/ran">Sage Bionetworks R Archive Network (RAN)</a> to the repository list, e.g.:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"synapser"</span>, <span class="dt">repos=</span><span class="kw">c</span>(<span class="st">"https://sage-bionetworks.github.io/ran"</span>, <span class="st">"http://cran.fhcrc.org"</span>))</code></pre></div>
<p>Alternatively, edit your <code>~/.Rprofile</code> and configure your default repositories:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">options</span>(<span class="dt">repos=</span><span class="kw">c</span>(<span class="st">"https://sage-bionetworks.github.io/ran"</span>, <span class="st">"http://cran.fhcrc.org"</span>))</code></pre></div>
<p>after which you may run <code>install.packages</code> without specifying the repositories:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"synapser"</span>)</code></pre></div>
</div>
<div id="connecting-to-synapse" class="section level2">
<h2 class="hasAnchor">
<a href="#connecting-to-synapse" class="anchor"></a>Connecting to Synapse</h2>
<p>To use Synapse, you’ll need to <a href="https://www.synapse.org/#!RegisterAccount:0">register</a> for an account. The Synapse website can authenticate using a Google account, but you’ll need to take the extra step of creating a Synapse password to use the programmatic clients.</p>
<p>Once that’s done, you’ll be able to load the library and login:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(synapser)
<span class="kw"><a href="../reference/synLogin.html">synLogin</a></span>(<span class="st">'me@nowhere.com'</span>, <span class="st">'secret'</span>)</code></pre></div>
<p>You can also create a file <code>.synapseConfig</code> in your home directory containing login credentials:</p>
<pre><code>[authentication]
username=me@nowhere.com
password=secret</code></pre>
<p>after which you can log in without typing your credentials:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(synapser)
## Loading required package: PythonEmbedInR
## Loading required package: R6
## Loading required package: rjson
## 
## TERMS OF USE NOTICE:
##  When using Synapse, remember that the terms and conditions of use require that you:
##  1) Attribute data contributors when discussing these data or results from these data.
##  2) Not discriminate, identify, or recontact individuals or groups represented by the data.
##  3) Use and contribute only data de-identified to HIPAA standards.
##  4) Redistribute data only under these same terms of use.
<span class="kw"><a href="../reference/synLogin.html">synLogin</a></span>()
## Welcome, Admin-Hoff!
## NULL</code></pre></div>
<p>For more details see the native reference documentation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="../reference/synLogin.html">?synLogin
?synLogout</a></code></pre></div>
</div>
<div id="accessing-data" class="section level2">
<h2 class="hasAnchor">
<a href="#accessing-data" class="anchor"></a>Accessing Data</h2>
<p>To make the example below print useful information, we prepare a file:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># use hex_digits to generate random string</span>
hex_digits &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">as.character</span>(<span class="dv">0</span>:<span class="dv">9</span>), letters[<span class="dv">1</span>:<span class="dv">6</span>])
projectName&lt;-<span class="kw">sprintf</span>(<span class="st">"My unique project %s"</span>, <span class="kw">paste0</span>(<span class="kw">sample</span>(hex_digits, <span class="dv">32</span>, <span class="dt">replace=</span><span class="ot">TRUE</span>), <span class="dt">collapse=</span><span class="st">''</span>))
project&lt;-<span class="kw"><a href="../reference/Project.html">Project</a></span>(projectName)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">project&lt;-<span class="kw"><a href="../reference/synStore.html">synStore</a></span>(project)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="co"># Create some files</span>
filePath&lt;-<span class="st"> </span><span class="kw">tempfile</span>()
connection&lt;-<span class="kw">file</span>(filePath)
<span class="kw">writeChar</span>(<span class="st">"a </span><span class="ch">\t</span><span class="st"> b </span><span class="ch">\t</span><span class="st"> c </span><span class="ch">\n</span><span class="st"> d </span><span class="ch">\t</span><span class="st"> e </span><span class="ch">\t</span><span class="st"> f </span><span class="ch">\n</span><span class="st">"</span>, connection, <span class="dt">eos=</span><span class="ot">NULL</span>)
<span class="kw">close</span>(connection)  
file &lt;-<span class="st"> </span><span class="kw"><a href="../reference/File.html">File</a></span>(<span class="dt">path=</span>filePath, <span class="dt">parent=</span>project)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">file &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synStore.html">synStore</a></span>(file)
##  ##################################################  Uploading file to Synapse storage  ##################################################
synId &lt;-<span class="st"> </span>file$properties$id</code></pre></div>
<p>Synapse identifiers are used to refer to projects and data which are represented by <em>entity</em> objects. For example, the entity above represents a tab-delimited file containing a 2 by 3 matrix. Getting the entity retrieves an object that holds metadata describing the matrix, and also downloads the file to a local cache:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fileEntity &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGet.html">synGet</a></span>(synId)</code></pre></div>
<p>View the entity’s metadata in the R console:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">print</span>(fileEntity)
## File: file65aa6490142f (syn11738170)
##   md5=8465d33d9f407ef250ce519e92f300fb
##   fileSize=23
##   contentType=application/octet-stream
##   externalURL=None
##   cacheDir=/tmp/RtmpUDqMGT
##   files=['file65aa6490142f']
##   path=/tmp/RtmpUDqMGT/file65aa6490142f
##   synapseStore=True
## properties:
##   accessControlList=/repo/v1/entity/syn11738170/acl
##   annotations=/repo/v1/entity/syn11738170/annotations
##   concreteType=org.sagebionetworks.repo.model.FileEntity
##   createdBy=3323728
##   createdOn=2018-02-03T00:17:59.382Z
##   dataFileHandleId=22469243
##   entityType=org.sagebionetworks.repo.model.FileEntity
##   etag=14669950-7f44-4fbd-a4b2-00812d57ab33
##   id=syn11738170
##   modifiedBy=3323728
##   modifiedOn=2018-02-03T00:17:59.382Z
##   name=file65aa6490142f
##   parentId=syn11738169
##   uri=/repo/v1/entity/syn11738170
##   versionLabel=1
##   versionNumber=1
##   versionUrl=/repo/v1/entity/syn11738170/version/1
##   versions=/repo/v1/entity/syn11738170/version
## annotations:</code></pre></div>
<p>This is one simple way to read in a small matrix (we load just the first few rows):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">read.table</span>(fileEntity$path, <span class="dt">nrows=</span><span class="dv">2</span>)
##   V1 V2 V3
## 1  a  b  c
## 2  d  e  f</code></pre></div>
<p>View the entity in the browser:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/synOnweb.html">synOnweb</a></span>(synId)</code></pre></div>
<div id="download-location" class="section level3">
<h3 class="hasAnchor">
<a href="#download-location" class="anchor"></a>Download Location</h3>
<p>By default the download location will always be in the Synapse cache. You can specify the downloadLocation parameter.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">entity &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGet.html">synGet</a></span>(<span class="st">"syn00123"</span>, <span class="dt">downloadLocation=</span><span class="st">"/path/to/folder"</span>)</code></pre></div>
<p>For more details see the native reference documentation, e.g.:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="../reference/synGet.html">?synGet
?synOnweb</a></code></pre></div>
</div>
</div>
<div id="organizing-data-in-a-project" class="section level2">
<h2 class="hasAnchor">
<a href="#organizing-data-in-a-project" class="anchor"></a>Organizing Data in a Project</h2>
<p>You can create your own projects and upload your own data sets. Synapse stores entities in a hierarchical or tree structure. Projects are at the top level and must be uniquely named:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">project&lt;-<span class="kw"><a href="../reference/Project.html">Project</a></span>(projectName)
project&lt;-<span class="kw"><a href="../reference/synStore.html">synStore</a></span>(project)</code></pre></div>
<p>Creating a folder:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dataFolder &lt;-<span class="st"> </span><span class="kw"><a href="../reference/Folder.html">Folder</a></span>(<span class="st">'Data'</span>, <span class="dt">parent=</span>project)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dataFolder &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synStore.html">synStore</a></span>(dataFolder)</code></pre></div>
<p>Adding files to the project:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">filePath&lt;-<span class="st"> </span><span class="kw">tempfile</span>()
connection&lt;-<span class="kw">file</span>(filePath)
<span class="kw">writeChar</span>(<span class="st">"this is the content of the file"</span>, connection, <span class="dt">eos=</span><span class="ot">NULL</span>)
<span class="kw">close</span>(connection)
file &lt;-<span class="st"> </span><span class="kw"><a href="../reference/File.html">File</a></span>(<span class="dt">path=</span>filePath, <span class="dt">parent=</span>dataFolder)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">file &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synStore.html">synStore</a></span>(file)
##  ##################################################  Uploading file to Synapse storage  ##################################################</code></pre></div>
<p>You can print the properties of an entity (such as the file we just created):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">file$properties
## {
##   "accessControlList": "/repo/v1/entity/syn11738172/acl",
##   "annotations": "/repo/v1/entity/syn11738172/annotations",
##   "concreteType": "org.sagebionetworks.repo.model.FileEntity",
##   "createdBy": "3323728",
##   "createdOn": "2018-02-03T00:18:12.655Z",
##   "dataFileHandleId": "22469244",
##   "entityType": "org.sagebionetworks.repo.model.FileEntity",
##   "etag": "a4b20ace-03a3-45ed-a279-27e395cf24be",
##   "id": "syn11738172",
##   "modifiedBy": "3323728",
##   "modifiedOn": "2018-02-03T00:18:12.655Z",
##   "name": "file65aa397845cd",
##   "parentId": "syn11738171",
##   "uri": "/repo/v1/entity/syn11738172",
##   "versionLabel": "1",
##   "versionNumber": 1,
##   "versionUrl": "/repo/v1/entity/syn11738172/version/1",
##   "versions": "/repo/v1/entity/syn11738172/version"
## }</code></pre></div>
<p>Most other properties are immutable, but you <em>can</em> change an entity’s name:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">file$properties$name&lt;-<span class="st">"different name"</span></code></pre></div>
<p>Update Synapse with the change:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">file&lt;-<span class="kw"><a href="../reference/synStore.html">synStore</a></span>(file)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">file$properties
## {
##   "accessControlList": "/repo/v1/entity/syn11738172/acl",
##   "annotations": "/repo/v1/entity/syn11738172/annotations",
##   "concreteType": "org.sagebionetworks.repo.model.FileEntity",
##   "createdBy": "3323728",
##   "createdOn": "2018-02-03T00:18:12.655Z",
##   "dataFileHandleId": "22469244",
##   "entityType": "org.sagebionetworks.repo.model.FileEntity",
##   "etag": "16fa4693-6656-4074-9b21-66137f7ded34",
##   "id": "syn11738172",
##   "modifiedBy": "3323728",
##   "modifiedOn": "2018-02-03T00:18:15.376Z",
##   "name": "different name",
##   "parentId": "syn11738171",
##   "uri": "/repo/v1/entity/syn11738172",
##   "versionLabel": "2",
##   "versionNumber": 2,
##   "versionUrl": "/repo/v1/entity/syn11738172/version/2",
##   "versions": "/repo/v1/entity/syn11738172/version"
## }</code></pre></div>
<p>You can list all children of an entity:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">children &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGetChildren.html">synGetChildren</a></span>(project$properties$id)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/as.list.html">as.list</a></span>(children)
## [[1]]
## [[1]]$id
## [1] "syn11738171"
## 
## [[1]]$name
## [1] "Data"
## 
## [[1]]$versionNumber
## [1] 1
## 
## [[1]]$versionLabel
## [1] "1"
## 
## [[1]]$type
## [1] "org.sagebionetworks.repo.model.Folder"
## 
## [[1]]$benefactorId
## [1] 11738169
## 
## 
## [[2]]
## [[2]]$id
## [1] "syn11738170"
## 
## [[2]]$name
## [1] "file65aa6490142f"
## 
## [[2]]$versionNumber
## [1] 1
## 
## [[2]]$versionLabel
## [1] "1"
## 
## [[2]]$type
## [1] "org.sagebionetworks.repo.model.FileEntity"
## 
## [[2]]$benefactorId
## [1] 11738169</code></pre></div>
<p>You can also filter by type:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">filesAndFolders &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGetChildren.html">synGetChildren</a></span>(project$properties$id, <span class="dt">includeTypes=</span><span class="kw">c</span>(<span class="st">"file"</span>, <span class="st">"folder"</span>))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/as.list.html">as.list</a></span>(filesAndFolders)
## [[1]]
## [[1]]$id
## [1] "syn11738171"
## 
## [[1]]$name
## [1] "Data"
## 
## [[1]]$versionNumber
## [1] 1
## 
## [[1]]$versionLabel
## [1] "1"
## 
## [[1]]$type
## [1] "org.sagebionetworks.repo.model.Folder"
## 
## [[1]]$benefactorId
## [1] 11738169
## 
## 
## [[2]]
## [[2]]$id
## [1] "syn11738170"
## 
## [[2]]$name
## [1] "file65aa6490142f"
## 
## [[2]]$versionNumber
## [1] 1
## 
## [[2]]$versionLabel
## [1] "1"
## 
## [[2]]$type
## [1] "org.sagebionetworks.repo.model.FileEntity"
## 
## [[2]]$benefactorId
## [1] 11738169</code></pre></div>
<p>You can avoid reading all children into memory at once by iterating through one at a time:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">children &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGetChildren.html">synGetChildren</a></span>(project$properties$id)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tryCatch</span>({
    while (<span class="ot">TRUE</span>) {
        child&lt;-<span class="kw"><a href="../reference/nextElem.html">nextElem</a></span>(children)
        <span class="kw">print</span>(child)
    }
},
<span class="dt">error=</span>function(e) {
    <span class="kw">print</span>(<span class="st">"Reached end of list."</span>)
})
## $id
## [1] "syn11738171"
## 
## $name
## [1] "Data"
## 
## $versionNumber
## [1] 1
## 
## $versionLabel
## [1] "1"
## 
## $type
## [1] "org.sagebionetworks.repo.model.Folder"
## 
## $benefactorId
## [1] 11738169
## 
## $id
## [1] "syn11738170"
## 
## $name
## [1] "file65aa6490142f"
## 
## $versionNumber
## [1] 1
## 
## $versionLabel
## [1] "1"
## 
## $type
## [1] "org.sagebionetworks.repo.model.FileEntity"
## 
## $benefactorId
## [1] 11738169
## 
## [1] "Reached end of list."</code></pre></div>
<p>Content can be deleted:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/synDelete.html">synDelete</a></span>(file)</code></pre></div>
<pre><code>## NULL</code></pre>
<p>Deletion of a project will also delete its contents, in this case the folder:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">folderId&lt;-dataFolder$properties$id
<span class="kw"><a href="../reference/synDelete.html">synDelete</a></span>(project)</code></pre></div>
<pre><code>## NULL
tryCatch(
    synGet(folderId),
    error=function(e) {
        message(sprintf("Retrieving a deleted folder causes: %s", as.character(e)))
    },
    silent = TRUE
)
## Retrieving a deleted folder causes: Error in value[[3L]](cond): 404 Client Error: Not Found
## Entity syn11738171 is in trash can.</code></pre>
<p>In addition to simple data storage, Synapse entities can be annotated with key/value metadata, described in markdown documents (wikis), and linked together in provenance graphs to create a reproducible record of a data analysis pipeline.</p>
<p>For more details see the native reference documentation, e.g.:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="../reference/Project.html">?Project
?Folder
?File
?Link
?synStore</a></code></pre></div>
</div>
<div id="annotating-synapse-entities" class="section level2">
<h2 class="hasAnchor">
<a href="#annotating-synapse-entities" class="anchor"></a>Annotating Synapse Entities</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># (We use a time stamp just to help ensure uniqueness.)</span>
projectName&lt;-<span class="kw">sprintf</span>(<span class="st">"My unique project created on %s"</span>, <span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">"%a %b %d %H%M%OS4 %Y"</span>))
project&lt;-<span class="kw"><a href="../reference/Project.html">Project</a></span>(projectName)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">project&lt;-<span class="kw"><a href="../reference/synStore.html">synStore</a></span>(project)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/synSetAnnotations.html">synSetAnnotations</a></span>(project, <span class="kw">list</span>(<span class="dt">annotationName=</span><span class="st">"annotationValue"</span>))</code></pre></div>
<pre><code>## $annotationName
## $annotationName[[1]]
## [1] "annotationValue"

project&lt;-synGet(project$properties$id)</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
project$annotations
## {
##   "annotationName": [
##     "annotationValue"
##   ]
## }

<span class="kw"><a href="../reference/synGetAnnotations.html">synGetAnnotations</a></span>(project)</code></pre></div>
<pre><code>## $annotationName
## $annotationName[[1]]
## [1] "annotationValue"</code></pre>
<p>To add a new annotation to the ones currently defined for an entity:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
annotations&lt;-<span class="kw"><a href="../reference/synGetAnnotations.html">synGetAnnotations</a></span>(project)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
annotations[[<span class="st">"numeric_annotation_name"</span>]]&lt;-<span class="dv">42</span>

annotations&lt;-<span class="kw"><a href="../reference/synSetAnnotations.html">synSetAnnotations</a></span>(project, annotations)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
annotations
## $numeric_annotation_name
## $numeric_annotation_name[[1]]
## [1] 42
## 
## 
## $annotationName
## $annotationName[[1]]
## [1] "annotationValue"</code></pre></div>
</div>
<div id="provenance" class="section level2">
<h2 class="hasAnchor">
<a href="#provenance" class="anchor"></a>Provenance</h2>
<p>Synapse provides tools for tracking ‘provenance’, or the transformation of raw data into processed results, by linking derived data objects to source data and the code used to perform the transformation.</p>
<p>The Activity object represents the source of a data set or the data processing steps used to produce it. Using <a href="http://www.w3.org/2011/prov/wiki/Main_Page">W3C provenance</a> ontology terms, a result is generated by a combination of data and code which are either used or executed.</p>
<div id="creating-an-activity-object" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-an-activity-object" class="anchor"></a>Creating an activity object:</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">act &lt;-<span class="st"> </span><span class="kw"><a href="../reference/Activity.html">Activity</a></span>(
  <span class="dt">name=</span><span class="st">'clustering'</span>,
  <span class="dt">description=</span><span class="st">'whizzy clustering'</span>,
  <span class="dt">used=</span><span class="kw">c</span>(<span class="st">'syn1234'</span>,<span class="st">'syn1235'</span>),
  <span class="dt">executed=</span><span class="st">'syn4567'</span>)</code></pre></div>
<p>Here, syn1234 and syn1235 might be two types of measurements on a common set of samples. Some whizzy clustering code might be referred to by syn4567.</p>
<p>Alternatively, you can build an activity up piecemeal:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">act &lt;-<span class="st"> </span><span class="kw"><a href="../reference/Activity.html">Activity</a></span>(<span class="dt">name=</span><span class="st">'clustering'</span>, <span class="dt">description=</span><span class="st">'whizzy clustering'</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">act$<span class="kw">used</span>(<span class="kw">c</span>(<span class="st">'syn12345'</span>, <span class="st">'syn12346'</span>))
## NULL
act$<span class="kw">executed</span>(<span class="st">'syn4567'</span>)
## NULL</code></pre></div>
<p>The used and executed can reference entities in Synapse or URLs.</p>
<p>Entity examples:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  act$<span class="kw">used</span>(<span class="st">'syn12345'</span>)
## NULL
  act$<span class="kw">used</span>(project)
## NULL
  act$<span class="kw">used</span>(<span class="dt">target=</span><span class="st">"syn12345"</span>, <span class="dt">targetVersion=</span><span class="dv">2</span>)
## NULL</code></pre></div>
<p>URL examples:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">  act$<span class="kw">used</span>(<span class="st">'http://mydomain.com/my/awesome/data.RData'</span>)
## NULL
  act$<span class="kw">used</span>(<span class="dt">url=</span><span class="st">'http://mydomain.com/my/awesome/data.RData'</span>, <span class="dt">name=</span><span class="st">'Awesome Data'</span>)
## NULL
  act$<span class="kw">used</span>(<span class="dt">url=</span><span class="st">'https://github.com/joe_hacker/code_repo'</span>, <span class="dt">name=</span><span class="st">'Gnarly hacks'</span>, <span class="dt">wasExecuted=</span><span class="ot">TRUE</span>)
## NULL</code></pre></div>
</div>
<div id="storing-entities-with-provenance" class="section level3">
<h3 class="hasAnchor">
<a href="#storing-entities-with-provenance" class="anchor"></a>Storing entities with provenance</h3>
<p>The activity can be passed in when storing an Entity to set the Entity’s provenance:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">project &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGet.html">synGet</a></span>(project$properties$id)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">project &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synStore.html">synStore</a></span>(project, <span class="dt">activity=</span>act)</code></pre></div>
<p>We’ve now recorded that ‘project’ is the output of syn4567 applied to the data stored in syn1234 and syn1235.</p>
</div>
<div id="recording-data-source" class="section level3">
<h3 class="hasAnchor">
<a href="#recording-data-source" class="anchor"></a>Recording data source</h3>
<p>The synStore() has shortcuts for specifying the used and executed lists directly. For example, when storing a data entity, it’s a good idea to record its source:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">project &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synStore.html">synStore</a></span>(
  project,
  <span class="dt">activityName=</span><span class="st">'data-r-us'</span>,
  <span class="dt">activityDescription=</span><span class="st">'downloaded from data-r-us'</span>,
  <span class="dt">used=</span><span class="st">'http://data-r-us.com/excellent/data.xyz'</span>)</code></pre></div>
<p>For more information:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="../reference/Activity.html">?Activity
?synDeleteProvenance</a></code></pre></div>
</div>
</div>
<div id="tables" class="section level2">
<h2 class="hasAnchor">
<a href="#tables" class="anchor"></a>Tables</h2>
<p>Tables can be built up by adding sets of rows that follow a user-defined schema and queried using a SQL-like syntax. Please visit the <a href="tables.html">Table vignettes</a> for more information.</p>
</div>
<div id="wikis" class="section level2">
<h2 class="hasAnchor">
<a href="#wikis" class="anchor"></a>Wikis</h2>
<p>Wiki pages can be attached to an Synapse entity (i.e. project, folder, file, etc). Text and graphics can be composed in markdown and rendered in the web view of the object.</p>
<p>Creating a Wiki</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">project &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGet.html">synGet</a></span>(project$properties$id)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">content &lt;-<span class="st"> "</span>
<span class="st"># My Wiki Page</span>

<span class="st">Here is a description of my **fantastic** project!</span>
<span class="st">"</span>
<span class="co"># attachment</span>
filePath&lt;-<span class="st"> </span><span class="kw">tempfile</span>()
connection&lt;-<span class="kw">file</span>(filePath)
<span class="kw">writeChar</span>(<span class="st">"this is the content of the file"</span>, connection, <span class="dt">eos=</span><span class="ot">NULL</span>)
<span class="kw">close</span>(connection)

wiki &lt;-<span class="st"> </span><span class="kw"><a href="../reference/Wiki.html">Wiki</a></span>(<span class="dt">owner=</span>project,
             <span class="dt">title=</span><span class="st">'My Wiki Page'</span>,
             <span class="dt">markdown=</span>content,
             <span class="dt">attachments=</span><span class="kw">list</span>(filePath))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wiki &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synStore.html">synStore</a></span>(wiki)</code></pre></div>
<p>Updating a Wiki</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">project &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGet.html">synGet</a></span>(project$properties$id)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wiki &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGetWiki.html">synGetWiki</a></span>(project)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">wiki.markdown &lt;-<span class="st"> "</span>
<span class="st"># My Wiki Page</span>

<span class="st">Here is a description of my **fantastic** project! Let's</span>
<span class="st">*emphasize* the important stuff.</span>
<span class="st">"</span>

wiki &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synStore.html">synStore</a></span>(wiki)</code></pre></div>
<p>For more information:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="../reference/Wiki.html">?Wiki
?synGetWiki</a></code></pre></div>
</div>
<div id="evaluations" class="section level2">
<h2 class="hasAnchor">
<a href="#evaluations" class="anchor"></a>Evaluations</h2>
<p>An Evaluation is a Synapse construct useful for building processing pipelines and for scoring predictive modeling and data analysis challenges.</p>
<p>Creating an Evaluation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">eval &lt;-<span class="st"> </span><span class="kw"><a href="../reference/Evaluation.html">Evaluation</a></span>(
  <span class="dt">name=</span><span class="kw">sprintf</span>(<span class="st">"My unique evaluation created on %s"</span>, <span class="kw">format</span>(<span class="kw">Sys.time</span>(), <span class="st">"%a %b %d %H%M%OS4 %Y"</span>)),
  <span class="dt">description=</span><span class="st">"testing"</span>,
  <span class="dt">contentSource=</span>project$properties$id,
  <span class="dt">submissionReceiptMessage=</span><span class="st">"Thank you for your submission!"</span>,
  <span class="dt">submissionInstructionsMessage=</span><span class="st">"This evaluation only accepts files."</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">eval &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synStore.html">synStore</a></span>(eval)</code></pre></div>
<p>Retrieving the created Evaluation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">eval &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGetEvaluation.html">synGetEvaluation</a></span>(eval$id)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">eval
## {
##   "contentSource": "syn11738173",
##   "createdOn": "2018-02-03T00:18:49.675Z",
##   "description": "testing",
##   "etag": "f6b55474-b5c5-475a-a170-1ec5e62a0854",
##   "id": "9609937",
##   "name": "My unique evaluation created on Fri Feb 02 161848.5994 2018",
##   "ownerId": "3323728",
##   "status": "OPEN",
##   "submissionInstructionsMessage": "This evaluation only accepts files.",
##   "submissionReceiptMessage": "Thank you for your submission!"
## }</code></pre></div>
<p>Submitting a file to an existing Evaluation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># first create a file to submit</span>
filePath&lt;-<span class="st"> </span><span class="kw">tempfile</span>()
connection&lt;-<span class="kw">file</span>(filePath)
<span class="kw">writeChar</span>(<span class="st">"this is my first submission"</span>, connection, <span class="dt">eos=</span><span class="ot">NULL</span>)
<span class="kw">close</span>(connection)  
file &lt;-<span class="st"> </span><span class="kw"><a href="../reference/File.html">File</a></span>(<span class="dt">path=</span>filePath, <span class="dt">parent=</span>project)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">file &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synStore.html">synStore</a></span>(file)
##  ##################################################  Uploading file to Synapse storage  ##################################################
<span class="co"># submit the created file</span>
submission &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synSubmit.html">synSubmit</a></span>(eval, file)
## Thank you for your submission!</code></pre></div>
<p>List submissions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">submissions &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGetSubmissionBundles.html">synGetSubmissionBundles</a></span>(eval)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/as.list.html">as.list</a></span>(submissions)
## [[1]]
## [[1]][[1]]
## {
##   "contributors": [
##     {
##       "createdOn": "2018-02-03T00:18:58.556Z",
##       "principalId": "3323728"
##     }
##   ],
##   "createdOn": "2018-02-03T00:18:58.556Z",
##   "entityBundleJSON": "{\"entity\":{\"name\":\"file65aa4c1d4d7b\",\"id\":\"syn11738174\",\"uri\":\"/repo/v1/entity/syn11738174\",\"etag\":\"afacf711-b4a6-4249-a534-b0d421e485a0\",\"createdOn\":\"2018-02-03T00:18:56.113Z\",\"modifiedOn\":\"2018-02-03T00:18:56.113Z\",\"createdBy\":\"3323728\",\"modifiedBy\":\"3323728\",\"annotations\":\"/repo/v1/entity/syn11738174/annotations\",\"accessControlList\":\"/repo/v1/entity/syn11738174/acl\",\"parentId\":\"syn11738173\",\"entityType\":\"org.sagebionetworks.repo.model.FileEntity\",\"concreteType\":\"org.sagebionetworks.repo.model.FileEntity\",\"versionNumber\":1,\"versionLabel\":\"1\",\"versionUrl\":\"/repo/v1/entity/syn11738174/version/1\",\"versions\":\"/repo/v1/entity/syn11738174/version\",\"dataFileHandleId\":\"22469250\"},\"entityType\":\"org.sagebionetworks.repo.model.FileEntity\",\"annotations\":{\"id\":\"syn11738174\",\"uri\":\"/entity/syn11738174/annotations\",\"etag\":\"00000000-0000-0000-0000-000000000000\",\"creationDate\":\"1517617136113\",\"stringAnnotations\":{},\"doubleAnnotations\":{},\"longAnnotations\":{},\"dateAnnotations\":{},\"blobAnnotations\":{}},\"fileHandles\":[{\"id\":\"22469250\",\"etag\":\"ad734f79-d9e0-4b19-a3f6-d0328844fd5c\",\"createdBy\":\"3323728\",\"createdOn\":\"2018-02-03T00:18:54.000Z\",\"concreteType\":\"org.sagebionetworks.repo.model.file.S3FileHandle\",\"contentType\":\"application/octet-stream\",\"contentMd5\":\"3f466b7f85d184292a68cea1c4f7cfc2\",\"fileName\":\"file65aa4c1d4d7b\",\"storageLocationId\":1,\"contentSize\":27,\"bucketName\":\"proddata.sagebase.org\",\"key\":\"3323728/0d35c357-b42a-46ba-bce2-a0e2edd75264/file65aa4c1d4d7b\"}]}",
##   "entityId": "syn11738174",
##   "evaluationId": "9609937",
##   "id": "9661227",
##   "name": "file65aa4c1d4d7b",
##   "userId": "3323728",
##   "versionNumber": 1
## }
## 
## [[1]][[2]]
## {
##   "entityId": "syn11738174",
##   "etag": "3f9a740b-812a-4321-aca4-7e82d9ee3bbe",
##   "id": "9661227",
##   "modifiedOn": "2018-02-03T00:18:58.556Z",
##   "status": "RECEIVED",
##   "statusVersion": 0,
##   "versionNumber": 1
## }</code></pre></div>
<p>Retrieving submission by id:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Not evaluating this section because of SYNPY-235</span>
submission &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGetSubmission.html">synGetSubmission</a></span>(submission$id)
submission</code></pre></div>
<p>Retrieving the submission status:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">submissionStatus &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synGetSubmissionStatus.html">synGetSubmissionStatus</a></span>(submission)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">submissionStatus
## {
##   "entityId": "syn11738174",
##   "etag": "3f9a740b-812a-4321-aca4-7e82d9ee3bbe",
##   "id": "9661227",
##   "modifiedOn": "2018-02-03T00:18:58.556Z",
##   "status": "RECEIVED",
##   "statusVersion": 0,
##   "versionNumber": 1
## }</code></pre></div>
<p>To view the annotations:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">submissionStatus$annotations
## NULL</code></pre></div>
<p>To update an annotation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">submissionStatus$annotations[<span class="st">"doubleAnnos"</span>] &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="st">"rank"</span>=<span class="dv">3</span>))
<span class="kw"><a href="../reference/synStore.html">synStore</a></span>(submissionStatus)</code></pre></div>
<p>Query an evaluation:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">queryString &lt;-<span class="st"> </span><span class="kw">sprintf</span>(<span class="st">"query=select * from evaluation_%s LIMIT %s OFFSET %s'"</span>, eval$id, <span class="dv">10</span>, <span class="dv">0</span>)
<span class="kw"><a href="../reference/synRestGET.html">synRestGET</a></span>(<span class="kw">paste</span>(<span class="st">"/evaluation/submission/query?"</span>, <span class="kw">URLencode</span>(queryString), <span class="dt">sep =</span> <span class="st">""</span>))</code></pre></div>
<pre><code>## $rows
## $rows[[1]]
## $rows[[1]]$values
## $rows[[1]]$values[[1]]
## [1] "9609937"
## 
## $rows[[1]]$values[[2]]
## [1] "syn11738174"
## 
## $rows[[1]]$values[[3]]
## [1] "3323728"
## 
## $rows[[1]]$values[[4]]
## [1] "1517617138556"
## 
## $rows[[1]]$values[[5]]
## [1] "1"
## 
## $rows[[1]]$values[[6]]
## [1] "1517617138556"
## 
## $rows[[1]]$values[[7]]
## NULL
## 
## $rows[[1]]$values[[8]]
## [1] "{\"submissionId\":\"9661227\",\"userId\":\"3323728\",\"canCancel\":false,\"cancelRequested\":false}"
## 
## $rows[[1]]$values[[9]]
## [1] "3323728"
## 
## $rows[[1]]$values[[10]]
## NULL
## 
## $rows[[1]]$values[[11]]
## [1] "file65aa4c1d4d7b"
## 
## $rows[[1]]$values[[12]]
## [1] "false"
## 
## $rows[[1]]$values[[13]]
## [1] "9661227"
## 
## $rows[[1]]$values[[14]]
## [1] "RECEIVED"
## 
## $rows[[1]]$values[[15]]
## [1] "false"
## 
## 
## 
## 
## $totalNumberOfResults
## [1] 1
## 
## $headers
## $headers[[1]]
## [1] "scopeId"
## 
## $headers[[2]]
## [1] "entityId"
## 
## $headers[[3]]
## [1] "userId"
## 
## $headers[[4]]
## [1] "createdOn"
## 
## $headers[[5]]
## [1] "versionNumber"
## 
## $headers[[6]]
## [1] "modifiedOn"
## 
## $headers[[7]]
## [1] "submitterAlias"
## 
## $headers[[8]]
## [1] "cancelControl"
## 
## $headers[[9]]
## [1] "submitterId"
## 
## $headers[[10]]
## [1] "teamId"
## 
## $headers[[11]]
## [1] "name"
## 
## $headers[[12]]
## [1] "cancelRequested"
## 
## $headers[[13]]
## [1] "objectId"
## 
## $headers[[14]]
## [1] "status"
## 
## $headers[[15]]
## [1] "canCancel"</code></pre>
<p>To learn more about writing an evaluation query, please see: <a href="http://docs.synapse.org/rest/GET/evaluation/submission/query.html" class="uri">http://docs.synapse.org/rest/GET/evaluation/submission/query.html</a></p>
<p>For more information, please see:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="../reference/synGetEvaluation.html">?synGetEvaluation
?synSubmit
?synGetSubmissionBundles
?synGetSubmission
?synGetSubmissionStatus</a></code></pre></div>
</div>
<div id="sharing-access-to-content" class="section level2">
<h2 class="hasAnchor">
<a href="#sharing-access-to-content" class="anchor"></a>Sharing Access to Content</h2>
<p>By default, data sets in Synapse are private to your user account, but they can easily be shared with specific users, groups, or the public.</p>
<p>Retrieve the sharing setting on an entity:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/synGetPermissions.html">synGetPermissions</a></span>(project, <span class="dt">principalId=</span><span class="dv">273950</span>)</code></pre></div>
<pre><code>## list()</code></pre>
<p>The first time an entity is shared, an ACL object is created for that entity. Let’s make project public:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">acl &lt;-<span class="st"> </span><span class="kw"><a href="../reference/synSetPermissions.html">synSetPermissions</a></span>(project, <span class="dt">principalId=</span><span class="dv">273950</span>, <span class="dt">accessType=</span><span class="kw">list</span>(<span class="st">"READ"</span>))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">acl
## $resourceAccess
## $resourceAccess[[1]]
## $resourceAccess[[1]]$accessType
## $resourceAccess[[1]]$accessType[[1]]
## [1] "MODERATE"
## 
## $resourceAccess[[1]]$accessType[[2]]
## [1] "CHANGE_SETTINGS"
## 
## $resourceAccess[[1]]$accessType[[3]]
## [1] "READ"
## 
## $resourceAccess[[1]]$accessType[[4]]
## [1] "DOWNLOAD"
## 
## $resourceAccess[[1]]$accessType[[5]]
## [1] "CHANGE_PERMISSIONS"
## 
## $resourceAccess[[1]]$accessType[[6]]
## [1] "DELETE"
## 
## $resourceAccess[[1]]$accessType[[7]]
## [1] "CREATE"
## 
## $resourceAccess[[1]]$accessType[[8]]
## [1] "UPDATE"
## 
## 
## $resourceAccess[[1]]$principalId
## [1] 3323728
## 
## 
## $resourceAccess[[2]]
## $resourceAccess[[2]]$accessType
## $resourceAccess[[2]]$accessType[[1]]
## [1] "READ"
## 
## 
## $resourceAccess[[2]]$principalId
## [1] 273950
## 
## 
## 
## $id
## [1] "syn11738173"
## 
## $creationDate
## [1] "2018-02-03T00:18:23.195Z"
## 
## $uri
## [1] "/repo/v1/entity/syn11738173/acl"
## 
## $etag
## [1] "b0b44fcb-9015-4803-9bc0-afff68e62f09"</code></pre></div>
<p>Now public can read:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/synGetPermissions.html">synGetPermissions</a></span>(project, <span class="dt">principalId=</span><span class="dv">273950</span>)</code></pre></div>
<pre><code>## [[1]]
## [1] "READ"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="../reference/synGetPermissions.html">?synGetPermissions
?synSetPermissions</a></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/synDelete.html">synDelete</a></span>(project)</code></pre></div>
<pre><code>## NULL</code></pre>
</div>
<div id="file-views" class="section level2">
<h2 class="hasAnchor">
<a href="#file-views" class="anchor"></a>File Views</h2>
<p>A file view can be defined by its scope. It allows querying for FileEntity within the scope using a SQL-like syntax. Please visit the <a href="fileview.html">File View vignettes</a> for more information.</p>
</div>
<div id="accessing-the-api-directly" class="section level2">
<h2 class="hasAnchor">
<a href="#accessing-the-api-directly" class="anchor"></a>Accessing the API Directly</h2>
<p>These methods enable access to the Synapse REST(ish) API taking care of details like endpoints and authentication. See the <a href="%3Chttp://docs.synapse.org/rest/">REST API documentation</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="../reference/synRestGET.html">?synRestGET
?synRestPOST
?synRestPUT
?synRestDELETE</a></code></pre></div>
</div>
<div id="synapse-utilities" class="section level2">
<h2 class="hasAnchor">
<a href="#synapse-utilities" class="anchor"></a>Synapse Utilities</h2>
<p>TODO</p>
</div>
<div id="more-information" class="section level2">
<h2 class="hasAnchor">
<a href="#more-information" class="anchor"></a>More information</h2>
<p>For more information see the <a href="http://docs.synapse.org/articles/">Synapse User Guide</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#overview">Overview</a></li>
      <li><a href="#installation">Installation</a></li>
      <li><a href="#connecting-to-synapse">Connecting to Synapse</a></li>
      <li><a href="#accessing-data">Accessing Data</a></li>
      <li><a href="#organizing-data-in-a-project">Organizing Data in a Project</a></li>
      <li><a href="#annotating-synapse-entities">Annotating Synapse Entities</a></li>
      <li><a href="#provenance">Provenance</a></li>
      <li><a href="#tables">Tables</a></li>
      <li><a href="#wikis">Wikis</a></li>
      <li><a href="#evaluations">Evaluations</a></li>
      <li><a href="#sharing-access-to-content">Sharing Access to Content</a></li>
      <li><a href="#file-views">File Views</a></li>
      <li><a href="#accessing-the-api-directly">Accessing the API Directly</a></li>
      <li><a href="#synapse-utilities">Synapse Utilities</a></li>
      <li><a href="#more-information">More information</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Bruce Hoff, Kimyen Truong.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
